#!/bin/sh

prog=complementaryFIRlatticeFilter_test.m
depends="complementaryFIRlatticeFilter_test.m test_common.m \
complementaryFIRlatticeFilter.m crossWelch.m minphase.m print_polynomial.m \
complementaryFIRlattice.m flt2SD.m x2nextra.m direct_form_scale.m \
bin2SD.oct complementaryFIRdecomp.oct"

tmp=/tmp/$$
here=`pwd`
if [ $? -ne 0 ]; then echo "Failed pwd"; exit 1; fi

fail()
{
        echo FAILED ${0#$here"/"} $prog 1>&2
        cd $here
        rm -rf $tmp
        exit 1
}

pass()
{
        echo PASSED ${0#$here"/"} $prog
        cd $here
        rm -rf $tmp
        exit 0
}

trap "fail" 1 2 3 15
mkdir $tmp
if [ $? -ne 0 ]; then echo "Failed mkdir"; exit 1; fi
for file in $depends;do \
  cp -R src/$file $tmp; \
  if [ $? -ne 0 ]; then echo "Failed cp "$file; fail; fi \
done
cd $tmp
if [ $? -ne 0 ]; then echo "Failed cd"; fail; fi

#
# the output should look like this
#
cat > test.ykrz.ok << 'EOF'
ykrz = [       2.8334,      -0.6415,     -16.3611,     -27.7821, ... 
               2.7324,      78.7173,     118.0854,      -2.8133, ... 
            -266.5904,    -368.4040,      46.8955,     816.4795, ... 
             961.9250,    -681.0337,   -4156.3378,   -7722.5410, ... 
           -8863.9647,   -6374.3066,   -1585.0613,    2598.2264, ... 
            3967.6195,    2462.9114,    -418.6449,   -3339.5422, ... 
           -6073.4455,   -8861.6029,  -11148.5622,  -11391.5002, ... 
           -8419.4578,   -3082.5240,    1722.8156,    3137.9708, ... 
             803.8821,   -2710.9124,   -4087.8225,   -2154.3419, ... 
            1234.6105,    3005.0391,    1646.2191,   -1607.3525, ... 
           -4125.5646,   -4412.9429,   -3413.4411,   -3323.3786, ... 
           -5084.4951,   -7174.2761,   -7115.6560,   -4144.6503, ... 
             -17.8861,    2977.6982,    4417.2730,    5654.1022, ... 
            7483.3482,    8713.3595,    7520.5594,    3872.1300, ... 
             -54.1571,   -1931.5496,   -1389.1021,      54.0327, ... 
             757.3989,     267.9823,    -853.6350,   -2026.3394, ... 
           -3224.2362,   -4730.0734,   -6526.4264,   -8071.6258, ... 
           -8711.1368,   -8443.1436,   -8027.6709,   -8077.1170, ... 
           -8059.5225,   -6691.0631,   -3693.0309,    -802.7958, ... 
            -292.7034,   -2342.3865,   -4512.5755,   -4357.2276, ... 
           -2198.8425,    -587.5757,    -997.8161,   -2022.1352, ... 
           -1455.0026,     541.4956,    1505.7462,      90.7905, ... 
           -1711.3141,    -726.2409,    3306.0026,    6829.8427, ... 
            6045.7080,     940.6988,   -4549.2640,   -6118.0476, ... 
           -2582.4601,    3531.3806,    8074.2631,    8068.4416, ... 
            3637.8006,   -2008.7403,   -4870.4463,   -3509.2140, ... 
            -508.9438,     -49.3917,   -3466.7656,   -7399.5050, ... 
           -6954.9766,    -950.3113,    6319.4211,    8897.7357, ... 
            4786.1416,   -2250.5986,   -6276.7762,   -4366.4883, ... 
            1514.6671,    6984.5182,    8934.7907,    7070.8339, ... 
            2955.8542,   -1515.1259,   -4708.5677,   -5389.4528, ... 
           -3257.6826,     427.3847,    3380.9148,    4069.1332, ... 
            3117.4120,    2685.3565,    4246.4308,    7026.0711, ... 
            8753.8961,    7976.7813,    5426.0089,    3071.5622, ... 
            1923.9808,    1078.0618,    -876.2538,   -3641.4631, ... 
           -4847.7535,   -2297.4238,    3406.2578,    8792.6254, ... 
           10319.5069,    7268.8919,    1901.5006,   -2814.3946, ... 
           -5263.3041,   -5321.4453,   -3505.5200,    -794.2974, ... 
            1033.5609,      42.3985,   -4044.7035,   -8879.2425, ... 
          -10987.8444,   -8639.0878,   -3132.2159,    2717.2971, ... 
            7017.3843,    9646.4261,   11079.1934,   11305.6679, ... 
           10215.3441,    8660.3871,    8158.7382,    9268.9292, ... 
           10599.5691,   10008.3894,    6837.9012,    2626.1336, ... 
            -444.2890,   -1463.9740,   -1108.4276,    -528.0532, ... 
            -449.9339,   -1121.7461,   -2379.6477,   -3515.2585, ... 
           -3671.5087,   -2897.8116,   -2466.4951,   -3521.6151, ... 
           -5427.9191,   -6109.7862,   -4296.2598,    -934.4221, ... 
            1936.6867,    3343.6405,    3910.4182,    4540.7788, ... 
            5237.7898,    5371.6272,    4456.7272,    2379.1176, ... 
            -715.9195,   -4127.8582,   -6473.1028,   -6576.1948, ... 
           -4752.1767,   -2787.9536,   -2254.9064,   -3057.6246, ... 
           -3934.1843,   -4140.0392,   -4128.9899,   -4474.2143, ... 
           -4685.0115,   -3623.4741,   -1048.9528,    1716.0615, ... 
            2998.3633,    2586.6691,    2114.1924,    3440.7037, ... 
            6731.0411,   10151.8697,   11524.0435,   10265.2278, ... 
            7667.7904,    5458.3672,    4276.0575,    3639.5970, ... 
            3064.0843,    2728.1457,    2928.5176,    3300.4506, ... 
            3030.9939,    1819.2662,     249.9770,    -894.2609, ... 
           -1405.3236,   -1564.1889,   -1595.1777,   -1629.7525, ... 
           -2152.7456,   -3852.1498,   -6600.4765,   -8750.8211, ... 
           -8028.5519,   -3554.7054,    2904.9920,    7802.7585, ... 
            8240.2650,    4038.1483,   -2191.2579,   -6987.6335, ... 
           -8447.5938,   -7138.8693,   -4872.7127,   -2662.4616, ... 
             -22.3979,    3696.6419,    7456.8319,    8501.1738 ]';
EOF
if [ $? -ne 0 ]; then echo "Failed output cat test.ykrz.ok"; fail; fi

cat > test.ykrzhat.ok << 'EOF'
ykrzhat = [   -4624.6253,    7289.9287,   -2137.0590,    -380.8464, ... 
               1862.1159,   -2150.0190,   -7837.1141,    6334.0556, ... 
              10781.5689,  -12674.4901,    -380.1885,    5102.4309, ... 
              -2136.9867,    -818.3391,    -461.0702,    5810.3304, ... 
              -1777.2628,  -10584.5772,    8882.1575,    -130.4104, ... 
               3656.3296,   -1489.8271,   -5188.7086,   -1456.6437, ... 
               1785.5532,    5540.4023,   -4932.7985,    6284.9460, ... 
              -4741.1055,   -2597.6983,    1987.9532,   -3022.5678, ... 
               5286.6411,    7802.2846,  -13534.8820,    2956.5745, ... 
              -5597.5425,   14296.0047,   -3136.9150,   -6199.9831, ... 
              -1260.5076,    4421.4474,   -3420.5783,    7171.2795, ... 
               1715.7816,  -14398.8223,    5441.8914,    8500.2761, ... 
              -6787.7193,     177.1284,     860.8115,    -932.1176, ... 
               2719.3515,   -4974.6463,    -138.4021,    3162.3739, ... 
               6001.2110,  -13538.2048,    2689.3831,    9803.1937, ... 
              -5310.7087,    2010.4966,   -9727.9144,    5591.6407, ... 
               5015.6744,   -1745.0651,   -1911.4913,    4757.8600, ... 
             -12800.4303,    4015.4098,   12654.9295,   -2619.2903, ... 
              -5719.9187,  -10842.0284,    9719.8693,   14533.6231, ... 
              -9315.3870,  -10483.3410,    -192.7173,   11299.2964, ... 
              -3418.6059,    3446.1648,     311.9657,   -9012.3562, ... 
               4036.8278,   -1809.0994,    2287.4375,    2482.7434, ... 
              -2013.3065,    3639.9817,    -741.8887,  -10572.4221, ... 
                995.9825,    7080.0419,    7551.1124,   -1042.9117, ... 
             -13957.9318,    2905.3607,    -801.5919,    5573.3711, ... 
               3288.9590,    4143.9237,   -9596.4310,   -5567.6699, ... 
                997.5883,   11249.9950,   -2510.8231,   -5549.8743, ... 
               5430.6820,   -1982.5344,      87.6272,   -5249.5551, ... 
               8293.8757,   -5173.8238,   -2859.6696,    8866.5883, ... 
                943.5245,   -5620.1043,   -5784.3886,    8773.5058, ... 
              -6224.8619,    6897.6599,   -2393.5724,    2919.0948, ... 
             -11951.0123,   10630.8818,   -1484.8125,   -1051.8574, ... 
               5131.7987,   -5515.7300,   -2889.8500,   -5981.3202, ... 
              19059.8873,  -10542.1056,    5613.9459,  -11451.5613, ... 
               4124.2304,    5440.6270,   -2644.0039,   -4504.2106, ... 
                781.1256,    6211.6271,   -2470.1294,    2031.9975, ... 
              -1744.0296,   -7655.9876,    6726.4828,     538.4999, ... 
               1828.9984,    -820.6940,      74.9145,   -5880.6924, ... 
               7660.8780,    -765.8073,    -673.7848,   -3738.3224, ... 
              -1018.8903,    3850.9257,    9148.4448,  -15247.5939, ... 
              11276.4363,  -13031.7213,    9151.3971,   -2364.1249, ... 
               6627.7332,  -13746.4966,    4879.2222,   11318.9830, ... 
             -11235.1632,   -2248.4036,    -735.6083,    7279.0036, ... 
               7773.2878,  -15438.1594,    1905.1206,    1273.4319, ... 
               4079.9365,    3905.0011,   -7313.2370,   -1699.3328, ... 
               -231.5178,   12394.3499,  -11866.0081,    -829.9791, ... 
               2393.5890,    6608.1723,     302.4894,  -14064.9538, ... 
               5068.3043,    7997.3162,   -3040.0070,   -2940.4655, ... 
              -1569.9259,    7446.4008,   -8311.3164,   -1561.1651, ... 
              12915.1903,   -4517.6989,  -12801.7737,    9514.8375, ... 
               6480.3456,   -5378.7556,    -805.6525,      67.5084, ... 
                125.3347,     -44.5576,   -2389.4240,    7081.2891, ... 
                  8.7134,   -5922.6357,    -619.4149,     593.4532, ... 
               7122.3759,   -2830.6560,   -8517.7424,    8798.8657, ... 
              -3351.1557,     699.8651,    4888.0140,  -11700.6014, ... 
               6178.1895,    1508.1881,     466.2285,   -5631.0708, ... 
               3140.3473,   -1337.6098,    6498.5028,   -3420.1422, ... 
              -3787.6297,    1099.3121,     179.4451,   -1833.9599, ... 
               4440.1506,     418.0056,      56.6207,   -3350.9418, ... 
               1374.8134,   -6539.0282,    9800.3533,    -183.8526, ... 
              -1657.5243,   -1870.2152,   -5559.1276,    7936.2455, ... 
               -508.7407,   -1246.7813,    7174.8210,  -10336.2514, ... 
               -650.0120,   -2320.8525,    6167.5008,    8634.0294, ... 
              -3220.0739,   -6458.2025,   -9555.2305,   13802.6670 ]';
EOF
if [ $? -ne 0 ]; then echo "Failed output cat test.ykrzhat.ok"; fail; fi

cat > test.stdxxkrz.ok << 'EOF'
stdxxkrz = [       5.0190,       8.4552,      22.2163,      88.1882, ... 
                 148.2266,     148.3880,     282.6890,     456.4574, ... 
                 457.4836,     765.1512,    1107.3478,    1122.1635, ... 
                2024.1323,    2322.0802,    4410.8412,    6332.9978, ... 
                4892.0885,    5100.5333,    4776.3706,    4731.2845, ... 
                4762.5221,    4669.8182,    4674.4177,    4682.2263, ... 
                4660.1320,    4660.4763,    4662.8012,    4659.1408, ... 
                4658.0704,    4658.1744 ];
EOF
if [ $? -ne 0 ]; then echo "Failed output cat test.stdxxkrz.ok"; fail; fi

cat > test.ysdkrz.ok << 'EOF'
ysdkrz = [       3.0000,      -0.0000,     -17.0000,     -27.0000, ... 
                 2.0000,      78.0000,     119.0000,      -8.0000, ... 
              -260.0000,    -361.0000,      42.0000,     810.0000, ... 
               962.0000,    -687.0000,   -4148.0000,   -7694.0000, ... 
             -8861.0000,   -6378.0000,   -1568.0000,    2605.0000, ... 
              3953.0000,    2455.0000,    -413.0000,   -3338.0000, ... 
             -6059.0000,   -8842.0000,  -11138.0000,  -11367.0000, ... 
             -8402.0000,   -3087.0000,    1710.0000,    3148.0000, ... 
               812.0000,   -2727.0000,   -4083.0000,   -2140.0000, ... 
              1232.0000,    2995.0000,    1639.0000,   -1603.0000, ... 
             -4116.0000,   -4410.0000,   -3418.0000,   -3319.0000, ... 
             -5055.0000,   -7171.0000,   -7122.0000,   -4144.0000, ... 
                 4.0000,    2979.0000,    4404.0000,    5638.0000, ... 
              7457.0000,    8711.0000,    7532.0000,    3852.0000, ... 
               -75.0000,   -1923.0000,   -1370.0000,      46.0000, ... 
               760.0000,     258.0000,    -861.0000,   -1999.0000, ... 
             -3224.0000,   -4743.0000,   -6501.0000,   -8042.0000, ... 
             -8711.0000,   -8446.0000,   -8004.0000,   -8052.0000, ... 
             -8041.0000,   -6701.0000,   -3694.0000,    -794.0000, ... 
              -281.0000,   -2337.0000,   -4512.0000,   -4359.0000, ... 
             -2200.0000,    -568.0000,    -977.0000,   -2034.0000, ... 
             -1483.0000,     532.0000,    1547.0000,     101.0000, ... 
             -1734.0000,    -744.0000,    3310.0000,    6838.0000, ... 
              6035.0000,     919.0000,   -4553.0000,   -6085.0000, ... 
             -2571.0000,    3513.0000,    8053.0000,    8051.0000, ... 
              3640.0000,   -1992.0000,   -4864.0000,   -3527.0000, ... 
              -505.0000,     -33.0000,   -3456.0000,   -7396.0000, ... 
             -6951.0000,    -950.0000,    6319.0000,    8885.0000, ... 
              4775.0000,   -2256.0000,   -6275.0000,   -4348.0000, ... 
              1525.0000,    6974.0000,    8906.0000,    7049.0000, ... 
              2955.0000,   -1505.0000,   -4692.0000,   -5382.0000, ... 
             -3260.0000,     423.0000,    3386.0000,    4056.0000, ... 
              3112.0000,    2681.0000,    4237.0000,    7007.0000, ... 
              8755.0000,    7971.0000,    5397.0000,    3067.0000, ... 
              1931.0000,    1066.0000,    -878.0000,   -3614.0000, ... 
             -4846.0000,   -2305.0000,    3408.0000,    8784.0000, ... 
             10307.0000,    7255.0000,    1884.0000,   -2822.0000, ... 
             -5221.0000,   -5303.0000,   -3518.0000,    -801.0000, ... 
              1026.0000,      56.0000,   -4036.0000,   -8869.0000, ... 
            -10985.0000,   -8607.0000,   -3126.0000,    2712.0000, ... 
              7008.0000,    9621.0000,   11051.0000,   11293.0000, ... 
             10209.0000,    8650.0000,    8130.0000,    9253.0000, ... 
             10579.0000,   10010.0000,    6818.0000,    2624.0000, ... 
              -460.0000,   -1453.0000,   -1082.0000,    -535.0000, ... 
              -474.0000,   -1116.0000,   -2354.0000,   -3502.0000, ... 
             -3685.0000,   -2901.0000,   -2465.0000,   -3480.0000, ... 
             -5424.0000,   -6127.0000,   -4297.0000,    -910.0000, ... 
              1957.0000,    3314.0000,    3885.0000,    4544.0000, ... 
              5259.0000,    5359.0000,    4418.0000,    2378.0000, ... 
              -699.0000,   -4107.0000,   -6478.0000,   -6585.0000, ... 
             -4722.0000,   -2773.0000,   -2260.0000,   -3061.0000, ... 
             -3922.0000,   -4137.0000,   -4116.0000,   -4455.0000, ... 
             -4687.0000,   -3619.0000,   -1049.0000,    1711.0000, ... 
              3001.0000,    2587.0000,    2098.0000,    3429.0000, ... 
              6736.0000,   10136.0000,   11490.0000,   10261.0000, ... 
              7662.0000,    5428.0000,    4273.0000,    3651.0000, ... 
              3059.0000,    2717.0000,    2911.0000,    3297.0000, ... 
              3041.0000,    1818.0000,     227.0000,    -889.0000, ... 
             -1388.0000,   -1556.0000,   -1601.0000,   -1634.0000, ... 
             -2152.0000,   -3840.0000,   -6583.0000,   -8745.0000, ... 
             -8016.0000,   -3538.0000,    2893.0000,    7794.0000, ... 
              8216.0000,    4038.0000,   -2183.0000,   -6981.0000, ... 
             -8441.0000,   -7123.0000,   -4850.0000,   -2661.0000, ... 
               -30.0000,    3693.0000,    7439.0000,    8492.0000 ]';
EOF
if [ $? -ne 0 ]; then echo "Failed output cat test.ysdkrz.ok"; fail; fi

cat > test.ysdkrzhat.ok << 'EOF'
ysdkrzhat = [   -4621.0000,    7268.0000,   -2151.0000,    -408.0000, ... 
                 1827.0000,   -2177.0000,   -7847.0000,    6313.0000, ... 
                10771.0000,  -12640.0000,    -372.0000,    5085.0000, ... 
                -2165.0000,    -867.0000,    -518.0000,    5746.0000, ... 
                -1817.0000,  -10596.0000,    8855.0000,    -130.0000, ... 
                 3655.0000,   -1482.0000,   -5182.0000,   -1464.0000, ... 
                 1768.0000,    5522.0000,   -4928.0000,    6276.0000, ... 
                -4737.0000,   -2611.0000,    1956.0000,   -3052.0000, ... 
                 5243.0000,    7762.0000,  -13536.0000,    2933.0000, ... 
                -5600.0000,   14272.0000,   -3113.0000,   -6154.0000, ... 
                -1213.0000,    4456.0000,   -3385.0000,    7180.0000, ... 
                 1730.0000,  -14368.0000,    5429.0000,    8477.0000, ... 
                -6786.0000,     174.0000,     861.0000,    -934.0000, ... 
                 2699.0000,   -4993.0000,    -174.0000,    3113.0000, ... 
                 5945.0000,  -13565.0000,    2636.0000,    9742.0000, ... 
                -5344.0000,    1973.0000,   -9737.0000,    5563.0000, ... 
                 4992.0000,   -1756.0000,   -1922.0000,    4737.0000, ... 
               -12796.0000,    3988.0000,   12618.0000,   -2622.0000, ... 
                -5709.0000,  -10821.0000,    9700.0000,   14506.0000, ... 
                -9298.0000,  -10456.0000,    -177.0000,   11294.0000, ... 
                -3403.0000,    3450.0000,     321.0000,   -8998.0000, ... 
                 4021.0000,   -1812.0000,    2291.0000,    2505.0000, ... 
                -1979.0000,    3654.0000,    -739.0000,  -10572.0000, ... 
                  968.0000,    7042.0000,    7517.0000,   -1053.0000, ... 
               -13942.0000,    2896.0000,    -801.0000,    5571.0000, ... 
                 3301.0000,    4157.0000,   -9570.0000,   -5563.0000, ... 
                  984.0000,   11229.0000,   -2485.0000,   -5503.0000, ... 
                 5459.0000,   -1962.0000,      79.0000,   -5266.0000, ... 
                 8256.0000,   -5176.0000,   -2852.0000,    8870.0000, ... 
                  971.0000,   -5578.0000,   -5743.0000,    8791.0000, ... 
                -6184.0000,    6919.0000,   -2355.0000,    2945.0000, ... 
               -11914.0000,   10615.0000,   -1491.0000,   -1064.0000, ... 
                 5115.0000,   -5505.0000,   -2872.0000,   -5949.0000, ... 
                19062.0000,  -10489.0000,    5633.0000,  -11422.0000, ... 
                 4103.0000,    5401.0000,   -2671.0000,   -4516.0000, ... 
                  772.0000,    6196.0000,   -2481.0000,    2001.0000, ... 
                -1778.0000,   -7684.0000,    6685.0000,     530.0000, ... 
                 1848.0000,    -769.0000,     143.0000,   -5803.0000, ... 
                 7709.0000,    -711.0000,    -623.0000,   -3682.0000, ... 
                 -969.0000,    3888.0000,    9174.0000,  -15192.0000, ... 
                11278.0000,  -13005.0000,    9128.0000,   -2373.0000, ... 
                 6609.0000,  -13728.0000,    4863.0000,   11289.0000, ... 
               -11234.0000,   -2264.0000,    -755.0000,    7242.0000, ... 
                 7736.0000,  -15435.0000,    1885.0000,    1260.0000, ... 
                 4068.0000,    3907.0000,   -7277.0000,   -1664.0000, ... 
                 -202.0000,   12398.0000,  -11829.0000,    -818.0000, ... 
                 2391.0000,    6584.0000,     278.0000,  -14072.0000, ... 
                 5029.0000,    7958.0000,   -3057.0000,   -2952.0000, ... 
                -1581.0000,    7417.0000,   -8322.0000,   -1589.0000, ... 
                12868.0000,   -4526.0000,  -12789.0000,    9499.0000, ... 
                 6478.0000,   -5355.0000,    -781.0000,      99.0000, ... 
                  162.0000,      -2.0000,   -2337.0000,    7124.0000, ... 
                   63.0000,   -5868.0000,    -585.0000,     613.0000, ... 
                 7126.0000,   -2809.0000,   -8485.0000,    8805.0000, ... 
                -3329.0000,     708.0000,    4889.0000,  -11678.0000, ... 
                 6164.0000,    1496.0000,     452.0000,   -5636.0000, ... 
                 3120.0000,   -1358.0000,    6457.0000,   -3448.0000, ... 
                -3812.0000,    1077.0000,     175.0000,   -1819.0000, ... 
                 4458.0000,     444.0000,      68.0000,   -3360.0000, ... 
                 1337.0000,   -6576.0000,    9741.0000,    -206.0000, ... 
                -1653.0000,   -1845.0000,   -5520.0000,    7951.0000, ... 
                 -489.0000,   -1242.0000,    7153.0000,  -10340.0000, ... 
                 -670.0000,   -2325.0000,    6170.0000,    8651.0000, ... 
                -3179.0000,   -6424.0000,   -9543.0000,   13759.0000 ]';
EOF
if [ $? -ne 0 ]; then echo "Failed output cat test.ysdkrzhat.ok"; fail; fi

cat > test.stdxxsdkrz.ok << 'EOF'
stdxxsdkrz = [       5.0025,       8.4238,      22.0838,      86.9480, ... 
                   147.0565,     147.2193,     282.5646,     451.5517, ... 
                   452.5934,     756.2523,    1096.5415,    1111.6503, ... 
                  2020.6245,    2321.1083,    4407.4975,    6326.4948, ... 
                  4893.3519,    5101.1905,    4768.7275,    4723.1350, ... 
                  4754.3832,    4662.7139,    4667.2871,    4674.6733, ... 
                  4652.8659,    4653.2126,    4655.5705,    4651.9605, ... 
                  4650.9231,    4651.0240 ];
EOF
if [ $? -ne 0 ]; then echo "Failed output cat test.stdxxsdkrz.ok"; fail; fi

#
# run and see if the results match
#
echo "Running $prog"

octave --no-gui -q $prog >test.out 2>&1
if [ $? -ne 0 ]; then echo "Failed running $prog"; fail; fi

diff -Bb test.ykrz.ok complementaryFIRlatticeFilter_test_ykrz.m
if [ $? -ne 0 ]; then echo "Failed diff -Bb test.ykrz.ok"; fail; fi

diff -Bb test.ykrzhat.ok complementaryFIRlatticeFilter_test_ykrzhat.m
if [ $? -ne 0 ]; then echo "Failed diff -Bb test.ykrzhat.ok"; fail; fi

diff -Bb test.stdxxkrz.ok complementaryFIRlatticeFilter_test_stdxxkrz.m
if [ $? -ne 0 ]; then echo "Failed diff -Bb test.stdxxkrz.ok"; fail; fi

diff -Bb test.ysdkrz.ok complementaryFIRlatticeFilter_test_ysdkrz.m
if [ $? -ne 0 ]; then echo "Failed diff -Bb test.ysdkrz.ok"; fail; fi

diff -Bb test.ysdkrzhat.ok complementaryFIRlatticeFilter_test_ysdkrzhat.m
if [ $? -ne 0 ]; then echo "Failed diff -Bb test.ysdkrzhat.ok"; fail; fi

diff -Bb test.stdxxsdkrz.ok complementaryFIRlatticeFilter_test_stdxxsdkrz.m
if [ $? -ne 0 ]; then echo "Failed diff -Bb test.stdxxsdkrz.ok"; fail; fi

#
# this much worked
#
pass

