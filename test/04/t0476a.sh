#!/bin/sh

prog=purczynskiFIRantisymmetric_flat_differentiator_test.m

depends="purczynskiFIRantisymmetric_flat_differentiator_test.m test_common.m \
purczynskiFIRantisymmetric_flat_differentiator.m print_polynomial.m"

tmp=/tmp/$$
here=`pwd`
if [ $? -ne 0 ]; then echo "Failed pwd"; exit 1; fi

fail()
{
        echo FAILED ${0#$here"/"} $prog 1>&2
        cd $here
        rm -rf $tmp
        exit 1
}

pass()
{
        echo PASSED ${0#$here"/"} $prog
        cd $here
        rm -rf $tmp
        exit 0
}

trap "fail" 1 2 3 15
mkdir $tmp
if [ $? -ne 0 ]; then echo "Failed mkdir"; exit 1; fi
for file in $depends;do \
  cp -R src/$file $tmp; \
  if [ $? -ne 0 ]; then echo "Failed cp "$file; fail; fi \
done
cd $tmp
if [ $? -ne 0 ]; then echo "Failed cd"; fail; fi

#
# the output should look like this
#

cat > test_h2.ok << 'EOF'
h2 = [ -0.000000000000,  0.000000000000, -0.000000000000,  0.000000000000, ... 
       -0.000000000000,  0.000000000001, -0.000000000007,  0.000000000013, ... 
       -0.000000000087,  0.000000000162, -0.000000000838,  0.000000001532, ... 
       -0.000000006616,  0.000000011840, -0.000000043898,  0.000000076889, ... 
       -0.000000249829,  0.000000428130, -0.000001238738,  0.000002076199, ... 
       -0.000005417414,  0.000008877539, -0.000021106806,  0.000033806385, ... 
       -0.000073873822,  0.000115617838, -0.000233933771,  0.000357680602, ... 
       -0.000674458405,  0.001007345369, -0.001780570190,  0.002597890688, ... 
       -0.004327774767,  0.006169990383, -0.009737493226,  0.013573978843, ... 
       -0.020402366759,  0.027844059165, -0.040088861001,  0.053689740878, ... 
       -0.074565281462,  0.098431191609, -0.133152288325,  0.174765585102, ... 
       -0.234025234025,  0.311400497090, -0.427350427350,  0.609261842133, ... 
       -0.961538461538,  1.980100986932,  0.000000000000, -1.980100986932, ... 
        0.961538461538, -0.609261842133,  0.427350427350, -0.311400497090, ... 
        0.234025234025, -0.174765585102,  0.133152288325, -0.098431191609, ... 
        0.074565281462, -0.053689740878,  0.040088861001, -0.027844059165, ... 
        0.020402366759, -0.013573978843,  0.009737493226, -0.006169990383, ... 
        0.004327774767, -0.002597890688,  0.001780570190, -0.001007345369, ... 
        0.000674458405, -0.000357680602,  0.000233933771, -0.000115617838, ... 
        0.000073873822, -0.000033806385,  0.000021106806, -0.000008877539, ... 
        0.000005417414, -0.000002076199,  0.000001238738, -0.000000428130, ... 
        0.000000249829, -0.000000076889,  0.000000043898, -0.000000011840, ... 
        0.000000006616, -0.000000001532,  0.000000000838, -0.000000000162, ... 
        0.000000000087, -0.000000000013,  0.000000000007, -0.000000000001, ... 
        0.000000000000, -0.000000000000,  0.000000000000, -0.000000000000, ... 
        0.000000000000 ]';
EOF
if [ $? -ne 0 ]; then echo "Failed output cat test_h2.ok"; fail; fi

cat > test_h4.ok << 'EOF'
h4 = [ -0.000000000000, -0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000000, -0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000000, -0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000004, -0.000000000000,  0.000000000007,  0.000000000000, ... 
       -0.000000000043, -0.000000000000,  0.000000000081,  0.000000000000, ... 
       -0.000000000419, -0.000000000000,  0.000000000766,  0.000000000000, ... 
       -0.000000003308, -0.000000000000,  0.000000005920,  0.000000000000, ... 
       -0.000000021949, -0.000000000000,  0.000000038444,  0.000000000000, ... 
       -0.000000124915, -0.000000000000,  0.000000214065,  0.000000000000, ... 
       -0.000000619369, -0.000000000000,  0.000001038099,  0.000000000000, ... 
       -0.000002708707, -0.000000000000,  0.000004438769,  0.000000000000, ... 
       -0.000010553403, -0.000000000000,  0.000016903193,  0.000000000000, ... 
       -0.000036936911, -0.000000000000,  0.000057808919,  0.000000000000, ... 
       -0.000116966886, -0.000000000000,  0.000178840301,  0.000000000000, ... 
       -0.000337229203, -0.000000000000,  0.000503672684,  0.000000000000, ... 
       -0.000890285095, -0.000000000000,  0.001298945344,  0.000000000000, ... 
       -0.002163887384, -0.000000000000,  0.003084995192,  0.000000000000, ... 
       -0.004868746613, -0.000000000000,  0.006786989421,  0.000000000000, ... 
       -0.010201183380, -0.000000000000,  0.013922029582,  0.000000000000, ... 
       -0.020044430500, -0.000000000000,  0.026844870439,  0.000000000000, ... 
       -0.037282640731, -0.000000000000,  0.049215595804,  0.000000000000, ... 
       -0.066576144162, -0.000000000000,  0.087382792551,  0.000000000000, ... 
       -0.117012617013, -0.000000000000,  0.155700248545,  0.000000000000, ... 
       -0.213675213675, -0.000000000000,  0.304630921067,  0.000000000000, ... 
       -0.480769230769, -0.000000000000,  0.990050493466,  0.000000000000, ... 
        0.000000000000,  0.000000000000, -0.990050493466, -0.000000000000, ... 
        0.480769230769,  0.000000000000, -0.304630921067, -0.000000000000, ... 
        0.213675213675,  0.000000000000, -0.155700248545, -0.000000000000, ... 
        0.117012617013,  0.000000000000, -0.087382792551, -0.000000000000, ... 
        0.066576144162,  0.000000000000, -0.049215595804, -0.000000000000, ... 
        0.037282640731,  0.000000000000, -0.026844870439, -0.000000000000, ... 
        0.020044430500,  0.000000000000, -0.013922029582, -0.000000000000, ... 
        0.010201183380,  0.000000000000, -0.006786989421, -0.000000000000, ... 
        0.004868746613,  0.000000000000, -0.003084995192, -0.000000000000, ... 
        0.002163887384,  0.000000000000, -0.001298945344, -0.000000000000, ... 
        0.000890285095,  0.000000000000, -0.000503672684, -0.000000000000, ... 
        0.000337229203,  0.000000000000, -0.000178840301, -0.000000000000, ... 
        0.000116966886,  0.000000000000, -0.000057808919, -0.000000000000, ... 
        0.000036936911,  0.000000000000, -0.000016903193, -0.000000000000, ... 
        0.000010553403,  0.000000000000, -0.000004438769, -0.000000000000, ... 
        0.000002708707,  0.000000000000, -0.000001038099, -0.000000000000, ... 
        0.000000619369,  0.000000000000, -0.000000214065, -0.000000000000, ... 
        0.000000124915,  0.000000000000, -0.000000038444, -0.000000000000, ... 
        0.000000021949,  0.000000000000, -0.000000005920, -0.000000000000, ... 
        0.000000003308,  0.000000000000, -0.000000000766, -0.000000000000, ... 
        0.000000000419,  0.000000000000, -0.000000000081, -0.000000000000, ... 
        0.000000000043,  0.000000000000, -0.000000000007, -0.000000000000, ... 
        0.000000000004,  0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000000,  0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000000,  0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000000 ]';
EOF
if [ $? -ne 0 ]; then echo "Failed output cat test_h4.ok"; fail; fi

cat > test_h8.ok << 'EOF'
h8 = [ -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000002, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000003,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000022, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000040,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000210, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000383,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000001654, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000002960,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000010974, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000019222,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000062457, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000107032,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000309684, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000519050,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000001354353, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000002219385,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000005276702, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000008451596,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000018468456, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000028904459,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000058483443, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000089420150,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000168614601, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000251836342,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000445142547, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000649472672,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.001081943692, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.001542497596,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.002434373307, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.003393494711,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.005100591690, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.006961014791,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.010022215250, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.013422435219,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.018641320365, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.024607797902,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.033288072081, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.043691396275,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.058506308506, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.077850124273,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.106837606838, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.152315460533,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.240384615385, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.495025246733,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.495025246733, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.240384615385,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.152315460533, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.106837606838,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.077850124273, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.058506308506,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.043691396275, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.033288072081,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.024607797902, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.018641320365,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.013422435219, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.010022215250,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.006961014791, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.005100591690,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.003393494711, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.002434373307,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.001542497596, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.001081943692,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000649472672, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000445142547,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000251836342, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000168614601,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000089420150, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000058483443,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000028904459, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000018468456,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000008451596, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000005276702,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000002219385, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000001354353,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000519050, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000309684,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000107032, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000062457,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000019222, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000010974,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000002960, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000001654,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000383, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000210,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000040, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000022,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000003, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000002,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
       -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        0.000000000000 ]';
EOF
if [ $? -ne 0 ]; then echo "Failed output cat test_h8.ok"; fail; fi

cat > test_h16.ok << 'EOF'
h16 = [ -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000000001, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000002,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000000011, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000020,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000000105, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000191,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000000827, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000001480,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000005487, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000009611,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000031229, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000053516,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000154842, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000259525,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000677177, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000001109692,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000002638351, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000004225798,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000009234228, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000014452230,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000029241721, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000044710075,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000084307301, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000125918171,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000222571274, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000324736336,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000540971846, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000771248798,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.001217186653, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.001696747355,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.002550295845, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.003480507396,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.005011107625, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.006711217610,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.009320660183, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.012303898951,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.016644036041, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.021845698138,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.029253154253, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.038925062136,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.053418803419, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.076157730267,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.120192307692, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.247512623367,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.247512623367, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.120192307692,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.076157730267, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.053418803419,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.038925062136, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.029253154253,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.021845698138, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.016644036041,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.012303898951, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.009320660183,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.006711217610, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.005011107625,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.003480507396, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.002550295845,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.001696747355, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.001217186653,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000771248798, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000540971846,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000324736336, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000222571274,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000125918171, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000084307301,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000044710075, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000029241721,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000014452230, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000009234228,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000004225798, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000002638351,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000001109692, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000677177,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000259525, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000154842,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000053516, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000031229,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000009611, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000005487,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000001480, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000827,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000000191, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000105,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000000020, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000011,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000000002, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000001,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
         0.000000000000,  0.000000000000,  0.000000000000,  0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
        -0.000000000000, -0.000000000000, -0.000000000000, -0.000000000000, ... 
         0.000000000000 ]';
EOF
if [ $? -ne 0 ]; then echo "Failed output cat test_h16.ok"; fail; fi

#
# run and see if the results match
#
echo "Running $prog" 

octave-cli -q $prog >test.out 2>&1
if [ $? -ne 0 ]; then echo "Failed running $prog"; fail; fi

nstr="purczynskiFIRantisymmetric_flat_differentiator_test"

diff -Bb test_h2.ok $nstr"_h2_coef.m"
if [ $? -ne 0 ]; then echo "Failed diff -Bb test_h2.ok"; fail; fi

diff -Bb test_h4.ok $nstr"_h4_coef.m"
if [ $? -ne 0 ]; then echo "Failed diff -Bb test_h4.ok"; fail; fi

diff -Bb test_h8.ok $nstr"_h8_coef.m"
if [ $? -ne 0 ]; then echo "Failed diff -Bb test_h8.ok"; fail; fi

diff -Bb test_h16.ok $nstr"_h16_coef.m"
if [ $? -ne 0 ]; then echo "Failed diff -Bb test_h16.ok"; fail; fi

#
# this much worked
#
pass

