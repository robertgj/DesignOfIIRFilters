% sv_symbolic_test.m
% Copyright (C) 2023 Robert G. Jenssen

test_common;

delete("sv_symbolic_test.diary");
delete("sv_symbolic_test.diary.tmp");
diary sv_symbolic_test.diary.tmp

pkg load symbolic

% Cascade connection
syms I A1 A2 B1 B2 C1 C2 D1 D2
[0,I,0; ...
 B2,0,A2; ...
 D2,0,C2]*[C1,0,D1; ...
           A1,0,B1; ...
           0,I,0]

% Feedback connection
syms D11 D12 D21 D22 b1 b2 c1 c2 d11 d12 d21 d22
[0,0,I,0,0,0,0,0,0,0; ...
 I,0,0,0,0,0,0,0,0,0; ...
 0,0,0,I,0,0,0,0,0,0; ...
 0,I,0,0,0,0,0,0,0,0] * ...
[0,0,b1,0,0,A2,0,b2; ...
 0,0,d21,0,0,c2,0,d22; ...
 I,0,0,0,0,0,0,0; ...
 0,I,0,0,0,0,0,0; ...
 0,0,I,0,0,0,0,0; ...
 0,0,0,I,0,0,0,0; ...
 0,0,0,0,I,0,0,0; ...
 0,0,0,0,0,I,0,0; ...
 0,0,0,0,0,0,I,0; ...
 0,0,0,0,0,0,0,I] * ...
[B2, A1,0,B1, 0; ...
 D12,C1,0,D11,0; ...
 D22,C2,0,D21,0; ...  
 I,0,0,0,0; ...
 0,I,0,0,0; ...
 0,0,I,0,0; ...
 0,0,0,I,0; ...
 0,0,0,0,I] * ...
[0,c1,0,d12; ...
 I,0,0,0; ...
 0,I,0,0; ...
 0,0,I,0; ...
 0,0,0,I]

diary off
movefile sv_symbolic_test.diary.tmp sv_symbolic_test.diary;
